<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°€ì´ë“œë¶ êµ¬ë§¤ - Mentora</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../images/logo-brain-hd.png">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Toss Payments SDK -->
    <script src="https://js.tosspayments.com/v1/payment"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/nav-common.css">
    
    <style>
        /* Checkout Styles */
        body {
            background: #f5f7fa;
        }
        
        .checkout-container {
            max-width: 900px;
            margin: 120px auto 60px;
            padding: 0 20px;
        }
        
        .checkout-header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .checkout-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: #2c5f4f;
            margin-bottom: 15px;
        }
        
        .checkout-subtitle {
            font-size: 1.1rem;
            color: #666;
        }
        
        .checkout-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }
        
        /* Product Info */
        .product-info {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        
        .product-header {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .product-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #2c5f4f 0%, #1a4838 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            flex-shrink: 0;
        }
        
        .product-details h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c5f4f;
            margin-bottom: 8px;
        }
        
        .product-type {
            font-size: 1rem;
            color: #666;
        }
        
        .product-features {
            margin-bottom: 30px;
        }
        
        .product-features h3 {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2c5f4f;
            margin-bottom: 20px;
        }
        
        .feature-list {
            list-style: none;
        }
        
        .feature-list li {
            padding: 12px 0;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1rem;
            color: #333;
            border-bottom: 1px solid #f5f5f5;
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .feature-list i {
            color: #d4af37;
            font-size: 1.1rem;
        }
        
        .product-guarantee {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid #d4af37;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .guarantee-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            color: #2c5f4f;
            margin-bottom: 10px;
        }
        
        .guarantee-title i {
            color: #d4af37;
            font-size: 1.3rem;
        }
        
        .guarantee-text {
            font-size: 0.95rem;
            color: #666;
            line-height: 1.6;
        }
        
        /* Payment Panel */
        .payment-panel {
            position: sticky;
            top: 100px;
        }
        
        .payment-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }
        
        .payment-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2c5f4f;
            margin-bottom: 25px;
        }
        
        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .price-label {
            font-size: 1rem;
            color: #666;
        }
        
        .price-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
        }
        
        .price-total {
            padding: 20px 0;
            margin-top: 10px;
        }
        
        .price-total .price-label {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c5f4f;
        }
        
        .price-total .price-value {
            font-size: 2rem;
            font-weight: 800;
            color: #d4af37;
        }
        
        .payment-form {
            margin-top: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            font-size: 0.95rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #2c5f4f;
        }
        
        .payment-methods {
            margin: 25px 0;
        }
        
        .method-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .method-button {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .method-button:hover {
            border-color: #2c5f4f;
            background: #f5f7fa;
        }
        
        .method-button.active {
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.1);
        }
        
        .method-button i {
            font-size: 1.5rem;
            color: #2c5f4f;
        }
        
        .method-button span {
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
        }
        
        .checkout-button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #d4af37 0%, #b8952f 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .checkout-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.3);
        }
        
        .checkout-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .security-notice {
            margin-top: 20px;
            padding: 15px;
            background: #f5f7fa;
            border-radius: 8px;
            font-size: 0.85rem;
            color: #666;
            text-align: center;
        }
        
        .security-notice i {
            color: #2c5f4f;
            margin-right: 5px;
        }
        
        /* Agreement */
        .agreement-section {
            margin: 20px 0;
        }
        
        .agreement-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px 0;
        }
        
        .agreement-checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .agreement-label {
            font-size: 0.9rem;
            color: #666;
            cursor: pointer;
        }
        
        .agreement-label a {
            color: #2c5f4f;
            text-decoration: underline;
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .checkout-content {
                grid-template-columns: 1fr;
            }
            
            .payment-panel {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .checkout-title {
                font-size: 2rem;
            }
            
            .product-info {
                padding: 25px;
            }
            
            .product-header {
                flex-direction: column;
            }
            
            .method-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-brain"></i>
                <span>Mentora</span>
            </div>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="../index.html">í™ˆ</a></li>
                <li><a href="../index.html#tests">ê²€ì‚¬í•˜ê¸°</a></li>
                <li><a href="../index.html#premium">í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥</a></li>
                <li><a href="../index.html#pricing">ìš”ê¸ˆì œ</a></li>
                <li><a href="../index.html#reviews">í›„ê¸°</a></li>
                <li><a href="../guides.html">ê°€ì´ë“œë¶</a></li>
                <li><a href="../mypage.html">ë‚´ ê²°ê³¼</a></li>
                <li><a href="../admin/index.html"><i class="fas fa-user-shield"></i> ê´€ë¦¬ì</a></li>
            </ul>
            
            <div class="nav-actions">
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="í…Œë§ˆ ì „í™˜">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="ë©”ë‰´ ì—´ê¸°">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Checkout Container -->
    <div class="checkout-container">
        <div class="checkout-header">
            <h1 class="checkout-title">ê°€ì´ë“œë¶ êµ¬ë§¤</h1>
            <p class="checkout-subtitle">ì•ˆì „í•œ ê²°ì œë¥¼ í†µí•´ í‰ìƒ ì†Œì¥ ê°€ëŠ¥í•œ PDF ê°€ì´ë“œë¶ì„ ë°›ì•„ë³´ì„¸ìš”</p>
        </div>
        
        <div class="checkout-content">
            <!-- Product Info -->
            <div class="product-info">
                <div class="product-header">
                    <div class="product-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="product-details">
                        <h2 id="productName">INTJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ</h2>
                        <p class="product-type">PDF ê°€ì´ë“œë¶ | 62í˜ì´ì§€</p>
                    </div>
                </div>
                
                <div class="product-features">
                    <h3>ğŸ“˜ í¬í•¨ ë‚´ìš©</h3>
                    <ul class="feature-list">
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>ì„±ê²© ì™„ë²½ ë¶„ì„ (20í˜ì´ì§€)</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>ì§ì—… ì¶”ì²œ 30ê°€ì§€ (15í˜ì´ì§€)</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>ì—°ì•  & ê¶í•© ê°€ì´ë“œ (12í˜ì´ì§€)</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>AI ì„±ì¥ ë¡œë“œë§µ (10í˜ì´ì§€)</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>ìœ ëª…ì¸ ì‚¬ë¡€ ë¶„ì„ (5í˜ì´ì§€)</span>
                        </li>
                    </ul>
                </div>
                
                <div class="product-features">
                    <h3>âœ¨ íŠ¹ë³„í•œ í˜œíƒ</h3>
                    <ul class="feature-list">
                        <li>
                            <i class="fas fa-award"></i>
                            <span>ì „ë¬¸ ì‹¬ë¦¬í•™ì ê°ìˆ˜ ì½˜í…ì¸ </span>
                        </li>
                        <li>
                            <i class="fas fa-infinity"></i>
                            <span>í‰ìƒ ì†Œì¥ ê°€ëŠ¥ (ì—…ë°ì´íŠ¸ ë¬´ë£Œ)</span>
                        </li>
                        <li>
                            <i class="fas fa-mobile-alt"></i>
                            <span>PC, íƒœë¸”ë¦¿, ëª¨ë°”ì¼ ìµœì í™”</span>
                        </li>
                        <li>
                            <i class="fas fa-print"></i>
                            <span>ì¸ì‡„ ê°€ëŠ¥ (ê³ í’ˆì§ˆ PDF)</span>
                        </li>
                        <li>
                            <i class="fas fa-shield-alt"></i>
                            <span>Mentora ì •í’ˆ ì¸ì¦ ì›Œí„°ë§ˆí¬</span>
                        </li>
                    </ul>
                </div>
                
                <div class="product-guarantee">
                    <div class="guarantee-title">
                        <i class="fas fa-undo"></i>
                        <span>7ì¼ í™˜ë¶ˆ ë³´ì¥</span>
                    </div>
                    <p class="guarantee-text">
                        êµ¬ë§¤ í›„ 7ì¼ ì´ë‚´ 100% í™˜ë¶ˆì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì½˜í…ì¸ ì— ë§Œì¡±í•˜ì§€ ëª»í•˜ì…¨ë‹¤ë©´ ì–¸ì œë“  í™˜ë¶ˆ ì‹ ì²­í•´ì£¼ì„¸ìš”.
                    </p>
                </div>
            </div>
            
            <!-- Payment Panel -->
            <div class="payment-panel">
                <div class="payment-card">
                    <h3 class="payment-title">ê²°ì œ ì •ë³´</h3>
                    
                    <div class="price-row">
                        <span class="price-label">ìƒí’ˆ ê¸ˆì•¡</span>
                        <span class="price-value" id="productPrice">â‚©14,900</span>
                    </div>
                    
                    <div class="price-row">
                        <span class="price-label">í• ì¸</span>
                        <span class="price-value" style="color: #e74c3c;">â‚©0</span>
                    </div>
                    
                    <div class="price-row price-total">
                        <span class="price-label">ì´ ê²°ì œ ê¸ˆì•¡</span>
                        <span class="price-value" id="totalPrice">â‚©14,900</span>
                    </div>
                    
                    <div class="payment-form">
                        <div class="form-group">
                            <label class="form-label">êµ¬ë§¤ì ì´ë¦„</label>
                            <input type="text" class="form-input" id="customerName" placeholder="í™ê¸¸ë™" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">ì´ë©”ì¼ (PDF ìˆ˜ë ¹ìš©)</label>
                            <input type="email" class="form-input" id="customerEmail" placeholder="example@email.com" required>
                        </div>
                        
                        <div class="payment-methods">
                            <label class="form-label">ê²°ì œ ë°©ë²•</label>
                            <div class="method-grid">
                                <button type="button" class="method-button active" data-method="ì¹´ë“œ" onclick="selectPaymentMethod('ì¹´ë“œ')">
                                    <i class="fas fa-credit-card"></i>
                                    <span>ì‹ ìš©ì¹´ë“œ</span>
                                </button>
                                <button type="button" class="method-button" data-method="ê³„ì¢Œì´ì²´" onclick="selectPaymentMethod('ê³„ì¢Œì´ì²´')">
                                    <i class="fas fa-university"></i>
                                    <span>ê³„ì¢Œì´ì²´</span>
                                </button>
                                <button type="button" class="method-button" data-method="ê°€ìƒê³„ì¢Œ" onclick="selectPaymentMethod('ê°€ìƒê³„ì¢Œ')">
                                    <i class="fas fa-barcode"></i>
                                    <span>ê°€ìƒê³„ì¢Œ</span>
                                </button>
                                <button type="button" class="method-button" data-method="í† ìŠ¤í˜ì´" onclick="selectPaymentMethod('í† ìŠ¤í˜ì´')">
                                    <i class="fas fa-mobile-alt"></i>
                                    <span>í† ìŠ¤í˜ì´</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="agreement-section">
                            <div class="agreement-item">
                                <input type="checkbox" id="agreeTerms" class="agreement-checkbox">
                                <label for="agreeTerms" class="agreement-label">
                                    <a href="../terms.html" target="_blank">ì´ìš©ì•½ê´€</a> ë° 
                                    <a href="../privacy.html" target="_blank">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>ì— ë™ì˜í•©ë‹ˆë‹¤.
                                </label>
                            </div>
                            <div class="agreement-item">
                                <input type="checkbox" id="agreeRefund" class="agreement-checkbox">
                                <label for="agreeRefund" class="agreement-label">
                                    <a href="../refund.html" target="_blank">í™˜ë¶ˆì •ì±…</a>ì„ í™•ì¸í–ˆìœ¼ë©° ë™ì˜í•©ë‹ˆë‹¤.
                                </label>
                            </div>
                        </div>
                        
                        <button type="button" class="checkout-button" onclick="requestPayment()" id="paymentButton">
                            <i class="fas fa-lock"></i> ì•ˆì „í•˜ê²Œ ê²°ì œí•˜ê¸°
                        </button>
                        
                        <div class="security-notice">
                            <i class="fas fa-shield-alt"></i>
                            SSL ë³´ì•ˆ ê²°ì œ | Toss Payments ì•ˆì „ ê²°ì œ ì‹œìŠ¤í…œ
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-grid">
                <!-- íšŒì‚¬ ì •ë³´ -->
                <div class="footer-section">
                    <div class="footer-logo">
                        <i class="fas fa-brain"></i>
                        <span>Mentora</span>
                    </div>
                    <div class="company-info">
                        <p><strong>íë¸Œë°•ìŠ¤(CubeBox)</strong></p>
                        <p>ëŒ€í‘œì: ê¹€ë¯¸í™”</p>
                        <p>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 537-08-03349</p>
                        <p>ì£¼ì†Œ: ì„œìš¸íŠ¹ë³„ì‹œ ì†¡íŒŒêµ¬ ì†¡íŒŒëŒ€ë¡œ14ê¸¸ 7-10 2ì¸µ</p>
                        <p>ì „í™”: 0502-1909-7788</p>
                        <p>ì´ë©”ì¼: mentora@gmail.com</p>
                    </div>
                </div>

                <!-- ê²€ì‚¬ ë©”ë‰´ -->
                <div class="footer-section">
                    <h4>ì‹¬ë¦¬ê²€ì‚¬</h4>
                    <ul class="footer-links">
                        <li><a href="../index.html#tests">ì „ì²´ ê²€ì‚¬</a></li>
                        <li><a href="../test-mbti.html">MBTI ì„±ê²© ìœ í˜•</a></li>
                        <li><a href="../test-enneagram.html">ì—ë‹ˆì–´ê·¸ë¨</a></li>
                        <li><a href="../test-bigfive.html">Big Five</a></li>
                    </ul>
                </div>

                <!-- í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ -->
                <div class="footer-section">
                    <h4>í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥</h4>
                    <ul class="footer-links">
                        <li><a href="../roadmap.html">AI ë§ì¶¤í˜• ì„±ì¥ ë¡œë“œë§µ</a></li>
                        <li><a href="../couple-analysis.html">ì»¤í”Œ/íŒ€ ë§¤ì¹­ ë¶„ì„</a></li>
                        <li><a href="../dashboard.html">ì‹¬ë¦¬ ë°ì´í„° ëŒ€ì‹œë³´ë“œ</a></li>
                        <li><a href="../guides.html">PDF ê°€ì´ë“œë¶</a></li>
                    </ul>
                </div>

                <!-- ê³ ê° ì§€ì› -->
                <div class="footer-section">
                    <h4>ê³ ê° ì§€ì›</h4>
                    <ul class="footer-links">
                        <li><a href="mailto:mentora@gmail.com">ì´ë©”ì¼ ë¬¸ì˜</a></li>
                        <li><a href="tel:0502-1909-7788">ì „í™” ìƒë‹´</a></li>
                        <li><a href="../terms.html">ì´ìš©ì•½ê´€</a></li>
                        <li><a href="../privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
                        <li><a href="../refund.html">í™˜ë¶ˆì •ì±…</a></li>
                    </ul>
                </div>
            </div>

            <!-- Footer Bottom -->
            <div class="footer-bottom">
                <div class="footer-bottom-left">
                    <p>&copy; 2026 íë¸Œë°•ìŠ¤(CubeBox). All rights reserved.</p>
                </div>
                <div class="footer-bottom-right">
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                    <div class="footer-legal-links">
                        <a href="../terms.html">ì´ìš©ì•½ê´€</a>
                        <a href="../privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
                        <a href="../refund.html">í™˜ë¶ˆì •ì±…</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // URLì—ì„œ ìƒí’ˆ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        const urlParams = new URLSearchParams(window.location.search);
        const plan = urlParams.get('plan') || 'guide-intj';
        
        // ìƒí’ˆ ë°ì´í„°
        const products = {
            'guide-intj': {
                name: 'INTJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'INTJ ì „ëµê°€',
                pages: 62,
                price: 14900,
                orderId: 'INTJ_GUIDE'
            },
            'guide-intp': {
                name: 'INTP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'INTP ë…¼ë¦¬ìˆ ì‚¬',
                pages: 60,
                price: 14900,
                orderId: 'INTP_GUIDE'
            },
            'guide-entj': {
                name: 'ENTJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ENTJ í†µì†”ì',
                pages: 65,
                price: 14900,
                orderId: 'ENTJ_GUIDE'
            },
            'guide-entp': {
                name: 'ENTP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ENTP ë³€ë¡ ê°€',
                pages: 63,
                price: 14900,
                orderId: 'ENTP_GUIDE'
            },
            'guide-infj': {
                name: 'INFJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'INFJ ì˜¹í˜¸ì',
                pages: 68,
                price: 14900,
                orderId: 'INFJ_GUIDE'
            },
            'guide-infp': {
                name: 'INFP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'INFP ì¤‘ì¬ì',
                pages: 66,
                price: 14900,
                orderId: 'INFP_GUIDE'
            },
            'guide-enfj': {
                name: 'ENFJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ENFJ ì„ ë„ì',
                pages: 64,
                price: 14900,
                orderId: 'ENFJ_GUIDE'
            },
            'guide-enfp': {
                name: 'ENFP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ENFP í™œë™ê°€',
                pages: 67,
                price: 14900,
                orderId: 'ENFP_GUIDE'
            },
            'guide-istj': {
                name: 'ISTJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ISTJ í˜„ì‹¤ì£¼ì˜ì',
                pages: 61,
                price: 14900,
                orderId: 'ISTJ_GUIDE'
            },
            'guide-isfj': {
                name: 'ISFJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ISFJ ìˆ˜í˜¸ì',
                pages: 63,
                price: 14900,
                orderId: 'ISFJ_GUIDE'
            },
            'guide-estj': {
                name: 'ESTJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ESTJ ê²½ì˜ì',
                pages: 62,
                price: 14900,
                orderId: 'ESTJ_GUIDE'
            },
            'guide-esfj': {
                name: 'ESFJ ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ESFJ ì§‘ì •ê´€',
                pages: 64,
                price: 14900,
                orderId: 'ESFJ_GUIDE'
            },
            'guide-istp': {
                name: 'ISTP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ISTP ì¥ì¸',
                pages: 60,
                price: 14900,
                orderId: 'ISTP_GUIDE'
            },
            'guide-isfp': {
                name: 'ISFP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ISFP ëª¨í—˜ê°€',
                pages: 65,
                price: 14900,
                orderId: 'ISFP_GUIDE'
            },
            'guide-estp': {
                name: 'ESTP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ESTP ì‚¬ì—…ê°€',
                pages: 61,
                price: 14900,
                orderId: 'ESTP_GUIDE'
            },
            'guide-esfp': {
                name: 'ESFP ì„±ê²© ì™„ë²½ ë¶„ì„ ê°€ì´ë“œ',
                type: 'ESFP ì—°ì˜ˆì¸',
                pages: 66,
                price: 14900,
                orderId: 'ESFP_GUIDE'
            },
            'guide-super-package': {
                name: 'Mentora ì˜¬ì¸ì› ìŠˆí¼ íŒ¨í‚¤ì§€',
                type: 'MBTI 16ì¢… + ì—ë‹ˆì–´ê·¸ë¨ 9ì¢… + Big Five + ì»¤í”Œ ê¶í•©',
                pages: 1850,
                price: 149000,
                orderId: 'SUPER_PACKAGE'
            }
        };
        
        const currentProduct = products[plan];
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìƒí’ˆ ì •ë³´ í‘œì‹œ
        window.addEventListener('DOMContentLoaded', () => {
            if (currentProduct) {
                document.getElementById('productName').textContent = currentProduct.name;
                document.querySelector('.product-type').textContent = `PDF ê°€ì´ë“œë¶ | ${currentProduct.pages}í˜ì´ì§€`;
                document.getElementById('productPrice').textContent = `â‚©${currentProduct.price.toLocaleString()}`;
                document.getElementById('totalPrice').textContent = `â‚©${currentProduct.price.toLocaleString()}`;
            }
        });
        
        // ê²°ì œ ë°©ë²• ì„ íƒ
        let selectedMethod = 'ì¹´ë“œ';
        
        function selectPaymentMethod(method) {
            selectedMethod = method;
            document.querySelectorAll('.method-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.closest('.method-button').classList.add('active');
        }
        
        // Toss Payments ì´ˆê¸°í™”
        const clientKey = 'test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq'; // í…ŒìŠ¤íŠ¸ í´ë¼ì´ì–¸íŠ¸ í‚¤
        const tossPayments = TossPayments(clientKey);
        
        // ê²°ì œ ìš”ì²­
        async function requestPayment() {
            // í•„ìˆ˜ í•­ëª© ì²´í¬
            const customerName = document.getElementById('customerName').value;
            const customerEmail = document.getElementById('customerEmail').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            const agreeRefund = document.getElementById('agreeRefund').checked;
            
            if (!customerName) {
                alert('êµ¬ë§¤ì ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (!customerEmail) {
                alert('ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (!agreeTerms || !agreeRefund) {
                alert('ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì´ë©”ì¼ í˜•ì‹ ì²´í¬
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(customerEmail)) {
                alert('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ê²°ì œ ìš”ì²­
            const orderId = currentProduct.orderId + '_' + Date.now();
            
            try {
                // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì£¼ë¬¸ ì •ë³´ ì €ì¥
                const orderInfo = {
                    orderId: orderId,
                    productName: currentProduct.name,
                    amount: currentProduct.price,
                    customerName: customerName,
                    customerEmail: customerEmail,
                    plan: plan,
                    timestamp: Date.now()
                };
                
                localStorage.setItem('pending_order', JSON.stringify(orderInfo));
                
                // Toss Payments ê²°ì œì°½ í˜¸ì¶œ
                await tossPayments.requestPayment(selectedMethod, {
                    amount: currentProduct.price,
                    orderId: orderId,
                    orderName: currentProduct.name,
                    customerName: customerName,
                    customerEmail: customerEmail,
                    successUrl: window.location.origin + '/payment/success.html',
                    failUrl: window.location.origin + '/payment/fail.html',
                });
            } catch (error) {
                console.error('ê²°ì œ ìš”ì²­ ì‹¤íŒ¨:', error);
                if (error.code === 'USER_CANCEL') {
                    alert('ê²°ì œê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
                } else {
                    alert('ê²°ì œ ìš”ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                }
            }
        }
        
        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        }
        
        // Theme Toggle
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            const icon = document.querySelector('.theme-toggle i');
            if (document.body.classList.contains('dark-theme')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
            }
        }
    </script>
</body>
</html>
